# Лекция State Management

--------------------------------------------------------
1. Q/ Какво е Cookie?

-- A/ Cookie е малък текстов файл, който се изпраща от сървъра на клиента /web browser-а.

Този текстов файл не съдържа изпълним код.

--------------------------------------------------------
2. Q/ За какво служат cookies?

-- A/ Cookies служат за персонализация. За User-tracking и най-вече/ най-често се използват за session-management.

В cookie се държи session-editor която отговаря на HTP session, която се пази на сървъра.

--------------------------------------------------------
3. Q/ Какво е third party cookie?

-- A/ Използват се за User-tracking и най-вече за реклами.

Как работят? - Когато отворим сайт А и там се изпълнява скрит скрип от сайт Б и той сложи свое Cookie там.

Отватяме сайт A, а се появява Cookie от сайт B на нашия браузър.

Като отворим сайт C, пак се отваря скрипта от сайт B и така може да прочете Cookie-то и по този начин се траква какви сайтове харесва, къде е бил User-а. 
Това нещо се използва от рекламодателите. 

Но предстои забраняване на third party cookie през 2023г.

--------------------------------------------------------
4. Q/ Какво е HTTP сесия?

-- A/ Е една област в паметта на сървъра или в базата данни, където има достъп сървъра, където се пази информация за даден потребител/ user.

Може да слагаме най-различни неща в сесията. Някакви флагове. Но сесията е свързана с някакъв номер/ Session Id, което се предава между клиента и сървъра, като най-често това става с Cookie.

--------------------------------------------------------
5. Q/ Как може в Spring да добавим атрибут в HTTP session?

-- A/ Като инжектираме HTTP session като аргумент и го използваме с метода addAttribute.

--------------------------------------------------------
6. Q/ Как може да се четат кукитата в контролер?

-- A/ С @CookieValue анотация.

--------------------------------------------------------
7. Q/ Как може сървърът да изтрие едно Cookie? :-)

-- A/ Като сетне същото Cookie, със същото име и съшите пропъртита, но с max age 0.

--------------------------------------------------------
  
